<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0066)lec2.htm -->
<HTML><HEAD><TITLE>Логическое и функциональное программирование. Лекция 2</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY text=#000000 aLink=#0000ff bgColor=#c7d4ea>
<P><FONT face="Arial Cyr">
<TABLE cellSpacing=0 width="100%" align=center border=0>
  <TBODY>
  <TR><!-- Row 1 -->
    <TD width=10 bgColor=#8181c0>
    <TD vAlign=center align=left width="65%" bgColor=#8181c0><FONT
      color=#c6c6ff size=4><B><I>Лекция 2</I></B></FONT>
    <TD bgColor=#c7d4ea>
    <TD bgColor=#c7d4ea></TD>
  <TR><!-- Row 2 -->
    <TD width=10 bgColor=#a3a3d1><FONT color=#8181c9></FONT>
    <TD vAlign=center align=middle width="65%" bgColor=#a3a3d1 height=20><FONT
      color=#004080 size=5><B><I>Синтаксис Пролога. Арифметика.
      Сопоставление.</I></B> </FONT>
    <TD bgColor=#c7d4ea>
    <TD bgColor=#c7d4ea></TD></TR></TBODY></TABLE></FONT>
<H2><FONT face="Arial Cyr" color=#004080>Cодержание </FONT></H2>
<DL>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.1">2.1
  Синтаксис ПРОЛОГА.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.1.1">2.1.1
  Константы.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.1.2">2.1.2
  Переменные.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.1.3">2.1.3
  Структуры.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.1.4">2.1.4
  Операторы - тоже функторы.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.2">2.2
  Арифметика.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.3">2.3
  Операции сравнения.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.4">2.4
  Сопоставление.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.5">2.5
  Второе значение операции = в Прологе.</A> </FONT>
  <DD><FONT face="Arial Cyr"><IMG src="lec2.files/blueball.gif"> <A
  href="lec2.htm#L2.6">2.6
  Примеры сопоставления структур.</A> </FONT></DD></DL>
<P>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<H2 align=center><FONT face="Arial Cyr"><A name=L2.1></A><FONT color=#000080>2.1
Синтаксис ПРОЛОГА.</FONT></FONT></H2>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<P><FONT face="Arial Cyr">Программа на прологе состоит из <FONT
color=#800080><B>предложений</B> </FONT>. Предложения</FONT> <FONT
face="Arial Cyr">трех видов: <FONT color=#800080><B>факты, правила,
вопросы.</B></FONT> Все предложения строятся из термов.<BR></FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/l21.gif" border=0>
      <P></P></TD>
    <TD align=left><FONT color=#800080><B><FONT face="Arial Cyr">Терм
      </FONT></B></FONT><FONT face="Arial Cyr">является синтаксической единицей.
      </FONT></TD>
  <TR></TR></TBODY></TABLE>
<CENTER><FONT face="Arial Cyr"><IMG height=5 src="lec2.files/saqual.gif"
width="70%"></FONT> </CENTER>
<H3 align=center><FONT face="Arial Cyr"><A name=L2.1.1></A><FONT
color=#000080>2.1.1 Константы.</FONT></FONT></H3>
<CENTER><FONT face="Arial Cyr"><IMG height=5 src="lec2.files/saqual.gif"
width="70%"></FONT> </CENTER>
<P><FONT face="Arial Cyr"><B><FONT color=#800080>Константы</FONT></B> - это
поименованные конкретные объекты или отношения.<BR><B><FONT
color=#800080>Атомы</FONT> </B>- аналогичны атомам или символам в
лиспе.<BR><B><FONT color=#800080>Атомы</FONT></B> могут задаваться:</FONT>
<P><FONT face="Arial Cyr">1) Цепочкой букв, цифр и символом подчеркивания '_',
начиная со строчной буквы.</FONT>
<P><FONT face="Arial Cyr"><B>a<BR>sister<BR>x_23</B></FONT>
<P><FONT face="Arial Cyr">2) специальными символами*: ====&gt;</FONT>
<P><FONT face="Arial Cyr"><B><FONT color=#800080>Числа</FONT><BR></B>Целые (
диапазон -32768 32767)<BR>Действительные ( диапазон 1Е-307 1Е+308)<BR></FONT>
<P>
<CENTER><FONT face="Arial Cyr"><IMG height=5 src="lec2.files/saqual.gif"
width="70%"></FONT> </CENTER>
<H3 align=center><FONT face="Arial Cyr"><A name=L2.1.2></A><FONT
color=#000080>2.1.2 Переменные.</FONT></FONT></H3>
<CENTER><FONT face="Arial Cyr"><IMG height=5 src="lec2.files/saqual.gif"
width="70%"></FONT> </CENTER>
<P><FONT face="Arial Cyr"><B><FONT color=#800080>Переменные</FONT></B> служат
для обозначения объектов, значения которых меняются в ходе выполнения
программы.</FONT>
<P><FONT face="Arial Cyr">Имена <B><FONT color=#800080>переменных</FONT></B>
могут начинаться:<BR>- или с прописной буквы<BR>- или с символа
подчеркивания</FONT>
<P><FONT face="Arial Cyr"><B>X <BR>Y <BR>Result<BR>_result</B></FONT>
<P><FONT face="Arial Cyr">Eсли значение переменной не интересует, то можно
использовать<B> <FONT color=#800080>анонимные</FONT></B> переменные в виде
символа подчеркивания '_'.</FONT>
<P><FONT face="Arial Cyr">Например,</FONT>
<P><FONT face="Arial Cyr"><!-- img src="yellow.gif" align=left --></FONT><FONT
face="Arial Cyr"><B>haschild(X):-parent(X, Y).</B></FONT><B>
<P></B>
<P><FONT face="Arial Cyr"><BR>Здесь значение<B> Y</B> не интересует, можно
записaть</FONT>
<P><FONT
face="Arial Cyr"><!--img src="yellow.gif" align=left --><B>haschald(X):-parent(X,
_).</B></FONT>
<P>
<P><FONT face="Arial Cyr"><BR>Значение анонимной переменной не выводится на
печать. Если несколько анонимных переменных, то они все разные. Использование
анонимных переменных позволяет не выдумывать имена переменных, когда не
надо.</FONT>
<P><FONT face="Arial Cyr">Пусть задано отношение parents для двух
родителей.</FONT>
<P><FONT face="Arial Cyr"><!--img src="yellow.gif" align=left --><B>parents(ann,
tom, bob).</B></FONT>
<P>
<P><FONT face="Arial Cyr"><BR>Тогда в правиле:</FONT>
<P><FONT
face="Arial Cyr"><!-- img src="yellow.gif" align=left --><B>child(X):-parents(_,
_, X).</B></FONT>
<P>
<P><FONT face="Arial Cyr"><BR></FONT><FONT face="Arial Cyr"><B>Y Z</B></FONT>
<P><FONT face="Arial Cyr">обе анонимные переменные разные. </FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><FONT color=#800000>
      <H1>!</H1></FONT></TD>
    <TD align=left><FONT face="Arial Cyr"
      color=#800000><B>Внимание.</B></FONT> <FONT face="Arial Cyr"
      color=#800080><B>Область действия переменных - одно
      предложение.<BR></FONT></FONT></B></TD>
  <TR></TR></TBODY></TABLE><FONT face="Arial Cyr">Одноименные переменные в разных
предложениях могут иметь разные значения. </FONT>
<CENTER><FONT face="Arial Cyr"><IMG height=5 src="lec2.files/saqual.gif"
width="70%"></FONT> </CENTER>
<H3 align=center><FONT face="Arial Cyr"><A name=L2.1.3></A><FONT
color=#000080>2.1.3 Структуры.</FONT></FONT></H3>
<CENTER><FONT face="Arial Cyr"><IMG height=5 src="lec2.files/saqual.gif"
width="70%"></FONT> </CENTER>
<P><FONT face="Arial Cyr"><B><FONT color=#800080>Структура</FONT></B> - это
единый объект состоящий из совокупности других объектов, называемых
компонентами.<BR>Компоненты в свою очередь могут быть также структурами.</FONT>
<P>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/l2133.gif"
      border=0>
      <P></P></TD>
    <TD align=left><FONT face="Arial Cyr" size=3>Структура <B>data</B>:
</FONT>
      <P><FONT face="Arial Cyr" size=3>Название структуры стоит перед скобками,а
      компоненты внутри скобок, через запятую.</FONT>
      <P><FONT face="Arial Cyr" size=3>Название структуры - <FONT
      color=#800080><B>ФУНКТОР</B></FONT>.</FONT>
      <P></P></TD>
  <TR></TR></TBODY></TABLE><FONT face="Arial Cyr">Структуры можно изображать в
виде деревьев: <PRE><FONT size=+2><B>
    data

  /  |   \

27 april 1992
</B></PRE></FONT>
<P><FONT face="Arial Cyr">Структура с компонентами - структурами <B>owns(bob,
book(moby_dick, mell_will)).</B></FONT>
<P><FONT face="Arial Cyr">Структуры можно использовать для представления
геометрических фигур. </FONT>
<TABLE width=684 border=0>
  <TBODY>
  <TR>
    <TD align=middle><B><FONT face="Arial Cyr">Объекты:</FONT></B>
      <P align=center><FONT face="Arial Cyr">точка Р1=point(1, 1)<BR>точка
      Р2=point(3, 3)<BR>отрезок <B>seg(P1, P2)</B><BR>или <BR><B>seg(point(1,
      1), point(3, 3))</B><BR>треугольник <BR><B>triangle(point(2, 5), point(2,
      8), point(5, 8))</B> </FONT></P></TD>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/l2131.gif"
      border=0>
      <P></P></TD>
  <TR></TR></TBODY></TABLE><FONT face="Arial Cyr">Cтруктуру можно представить в
виде дерева</FONT>
<P>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/l2132.gif"
      align=center border=0> </TD>
    <TD align=left><FONT face="Arial Cyr"><B>Корень дерева - главный
      функтор</B>. </FONT></TD>
  <TR></TR></TBODY></TABLE><FONT face="Arial Cyr">Если точка трехмерного
пространства: <B>point3(X, Y, Z)<BR></B>Можно записать : <B>point(X, Y,
Z)<BR></B>Получается: <B>point(X, Y, Z) и point(X, Y)</B></FONT>
<P><FONT face="Arial Cyr">Это разные термы, т.к. каждый функтор различается
двумя параметрами:</FONT>
<P>
<UL>
  <LI><FONT face="Arial Cyr"><B>именем</B> </FONT>
  <LI><FONT face="Arial Cyr"><B>арностью - т.е. числом атомов</B>
</FONT></LI></UL>
<P><FONT face="Arial Cyr">Поэтому пишут:</FONT>
<P><FONT face="Arial Cyr"><B>point/2</B><BR><B>point/3</B></FONT>
<P><FONT face="Arial Cyr">Например,если написано: Отношение point/2 задано
....<BR>Это означает, что задано point(_,_) ,<BR>а не point/2(_,_).</FONT>
<P><FONT face="Arial Cyr"><B><FONT color=#800000>!!! Это типичная
ошибка.</FONT></B> </FONT>
<CENTER><FONT face="Arial Cyr"><IMG height=5 src="lec2.files/saqual.gif"
width="70%"></FONT> </CENTER>
<H3 align=center><FONT face="Arial Cyr"><A name=L2.1.4></A><FONT
color=#000080>2.1.4 Операторы - тоже функторы.</FONT></FONT></H3>
<CENTER><FONT face="Arial Cyr"><IMG height=5 src="lec2.files/saqual.gif"
width="70%"></FONT> </CENTER>
<P><FONT face="Arial Cyr">Некоторые функторы удобнее записывать, как
операторы.<BR>Например, можно записать</FONT>
<P><FONT face="Arial Cyr"><B>+(1, 2)</B></FONT>
<P><FONT face="Arial Cyr">или </FONT><PRE><FONT face="Arial Cyr" size=+2><B>
                   +
                  / \
                 1   2
</B></FONT></PRE>
<P><FONT face="Arial Cyr">Удобнее записать <B>1+2</B> , т.е. в виде оператора.
Причем надо понимать, что это не операция сложения, а операторная запись
структуры. Такие операторы называются </FONT><FONT face="Arial Cyr"><B><FONT
color=#800080>инфиксными</FONT>.</B></FONT>
<P><FONT face="Arial Cyr">Аналогично операторная запись</FONT>
<P><FONT face="Arial Cyr"><B>2*a+b*c</B></FONT>
<P><FONT face="Arial Cyr">может быть представлена в виде структуры:</FONT>
<P><FONT face="Arial Cyr"><B>+( *(2, a), *(b, c))</B></FONT>
<P><FONT face="Arial Cyr">Это и производит пролог при трансляции операторных
выражений. <FONT color=#800000><B>Надо четко понимать, что операторы - это
другая форма записи структуры.</B></FONT></FONT>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<H2 align=center><FONT face="Arial Cyr"><A name=L2.2></A><FONT color=#000080>2.2
Арифметика.</FONT></FONT></H2>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<P><FONT face="Arial Cyr">В прологе выполняются следующие операции:</FONT>
<P><FONT face="Arial Cyr"
color=#800080><B>+<BR>-<BR>*<BR>/<BR>mod</B></FONT><FONT face="Arial Cyr"> -
остаток от целочисленного деления.</FONT>
<P><FONT face="Arial Cyr">Если записать: </FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/COMPUT.gif"
      border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT color=#800010><B>?-</B></FONT><B>X = 2+1.
      <BR>X=2+1</B><BR></TD>
  <TR></TR></TBODY></TABLE><FONT face="Arial Cyr">т.к. это просто сопоставление
переменной и структуры.</FONT>
<P><FONT face="Arial Cyr">Чтобы арифметическое выражение рассчитывалось,
необходимо использовать встроенный оператор <B>is</B>, который заставляет
выполнять арифметические операции. </FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD vAlign=top align=middle colSpan=2><IMG alt=""
      src="lec2.files/COMPUT.gif" border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT color=#800010><B>?-</B></FONT><B>X is
      2+1.<BR><B>X=3</B>
      <P><FONT color=#800010>?-</FONT><B>Y is
2*(5+6).<BR>Y=22<BR></B></B></P></TD>
  <TR></TR></TBODY></TABLE>
<P><FONT face="Arial Cyr">Могут быть переменные, но они должны иметь значение к
моменту вычисления.</FONT>
<P><FONT face="Arial Cyr"><!-- img src="yellow.gif" align=left --><B>f(X, Y,
Z):-Z is X*X + Y*Y.</B></FONT>
<P>
<P><FONT face="Arial Cyr"><BR>и задать вопрос<BR></FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/COMPUT.gif"
      border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT color=#800010><B>?-</B> </FONT><B>f(2, 3,
      R).<BR>R=13</B><BR></TD>
  <TR></TR></TBODY></TABLE><FONT face="Arial Cyr">Если определить:</FONT>
<P><FONT face="Arial Cyr"><!--img src="yellow.gif" align=left --><B>sum(X1, X2,
X):-X is X1 + X2.</B><BR></FONT>
<P><FONT face="Arial Cyr"><BR></FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD vAlign=top align=middle colSpan=2><IMG alt=""
      src="lec2.files/COMPUT.gif" border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT color=#800010><B>?-</B></FONT><B>sum(2, 3,
      X).<BR>X=5</B>
      <P><FONT color=#800010><B>?-</B></FONT><B> sum(1, 1, X1), sum(X1, X1,
      X).<BR>4.</B> </P></TD>
  <TR></TR></TBODY></TABLE>
<P>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<H2 align=center><FONT face="Arial Cyr"><A name=L2.3></A><FONT color=#000080>2.3
Операции сравнения.</FONT></FONT></H2>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<P><FONT face="Arial Cyr">Используются при сравнении чисел<BR>Есть
операции</FONT>
<P><FONT face="Arial Cyr"><B>X<FONT color=#400080> &gt;</FONT> Y<BR>X<FONT
color=#400080> &lt;</FONT> Y<BR>X <FONT color=#400080>&gt;= </FONT>Y<BR>X <FONT
color=#400080>=&lt;</FONT> Y</B></FONT>
<P><FONT face="Arial Cyr">равенство для любых термов</FONT>
<P><FONT face="Arial Cyr"><B>X<FONT color=#400080> = </FONT>Y<BR>X<FONT
color=#400080> \= </FONT>Y</B><BR><I>(с побочным эффектом)</I> </FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/COMPUT.gif"
      border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT color=#800010><B>?-</B> </FONT><B>100 &gt;
      4.<BR>yes</B><BR></TD>
  <TR></TR></TBODY></TABLE><FONT face="Arial Cyr"><!-- img src="yellow.gif" align=left --><B>age(mary,
20).<BR>age(ann , 23).<BR>age(bob , 25).<BR></B></FONT>
<P>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD vAlign=top align=middle colSpan=2><IMG alt=""
      src="lec2.files/COMPUT.gif" border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT color=#800010><B>?-</B> </FONT><B>age(X , Y),
      Y&gt;21.<BR>X=ann;<BR>X=bob;</B>
      <P><FONT color=#800010><B>?-</B></FONT> <B>age(X , Y), Y&gt;21,
      Y&lt;=23.<BR>X=ann ;</B> </P></TD>
  <TR></TR></TBODY></TABLE>
<P>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=left><FONT face="Arial Cyr">Определим отношение "выше"
      <B>higher/2</B></FONT><B><FONT face="Arial Cyr"> </FONT></B>
      <P><!-- img src="yellow.gif" align=left --><B>higher(point(X1, Y1),
      point(X2, Y2):-Y1&gt;Y2.<BR></B><BR>
      <TABLE width=600 border=0>
        <TBODY>
        <TR>
          <TD align=middle colSpan=2><IMG alt="" src="lec2.files/COMPUT.gif"
            border=0 SPACE="20">
            <P></P>
          <TD align=left><FONT color=#800010><B>?-</B></FONT><B> higher(point(
            1, 1), point( 2, 2).<BR>no<BR></B></TD></TR></TBODY></TABLE></P></TD>
  <TR></TR></TBODY></TABLE><FONT face="Arial Cyr">Если наоборот - то будет<B>
yes</B>.<BR></FONT>
<P><TD COLSPAN="2" ALIGN="CENTER"><FONT face="Arial Cyr"><IMG alt=""
src="lec2.files/l23.gif" border=0></FONT>
<P></TD><TR>
<P>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<H2 align=center><FONT face="Arial Cyr"><A name=L2.4></A><FONT color=#000080>2.4
Сопоставление.</FONT></FONT></H2>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<P><FONT face="Arial Cyr">Главной операцией в процессе выполнения пролог
-программы, является <FONT color=#800080><B>сопоставление</B></FONT>
(согласование, унификация) термов.</FONT>
<P><FONT face="Arial Cyr">Например,</FONT>
<P><FONT
face="Arial Cyr"><!-- img src="yellow.gif" align=left --></FONT><B><FONT
face="Arial Cyr">рarent(pam, bob).</FONT></B>
<P><FONT face="Arial Cyr"><BR></FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/COMPUT.gif"
      border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT color=#800010><B>?-</B></FONT><B> parent(pam,
      bob).<BR>Yes<BR></B></TD>
  <TR></TR></TBODY></TABLE>Цель согласуется.
<P>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/COMPUT.gif"
      border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT color=#800010><B>?-</B></FONT><B>parent(pam,
      X).<BR>X=bob<BR></B></TD>
  <TR></TR></TBODY></TABLE>Tоже согласуются, но<B><FONT face="Arial Cyr">
X</FONT></B> конкретизируется и принимает значение<B><FONT face="Arial Cyr">
bob</FONT></B>
<P><FONT face="Arial Cyr">Но если взять два составных терма -структуры.</FONT>
<P><FONT face="Arial Cyr"><B>a(b, C, d(e, F, g(h, i, J)))<BR>a(B, c, d(E, f,
g(H, I, j)))</B></FONT>
<P><FONT face="Arial Cyr"><I>cогласуются ли они? Что будет с переменными после
согласования? Как они будут конкретизированны?</I></FONT>
<P><FONT face="Arial Cyr"><B><FONT color=#800080>Сопоставление</FONT></B> -это
процесс, на вход которого подаются два терма, а он проверяет, соответствуют ли
эти термы друг другу.</FONT>
<P><FONT face="Arial Cyr">Если термы не сопоставимы, значит сопоставление терпит
неудачу.<BR>Если термы сопоставимы, тогда пpоцесс сопоставления находит
конкретизацию переменных, делающих эти термы тождественными, и завершается
удачей.</FONT>
<P>
<CENTER><FONT face="Arial Cyr"><IMG src="lec2.files/l24.gif"></FONT> </CENTER>
<P>
<CENTER></CENTER><FONT face="Arial Cyr">Какие же правила определяют
сопоставимость двух термов<B><FONT color=#800000> S</FONT></B> и<B><FONT
color=#800000> Т </FONT></B>?</FONT>
<P>
<OL>
  <LI><FONT face="Arial Cyr">Если<B><FONT color=#800000> S</FONT></B> и <B><FONT
  color=#800000>Т</FONT></B> константы , то<B><FONT color=#800000> S</FONT></B>
  и<FONT color=#800000> <B>Т</B></FONT> cопоставимы, только, если они являются
  одним и тем же объектом.<BR>т.е.:<BR><B>2</B> сопоставляется с
  <B>2<BR></B><B>bob</B> сопоставляется с <B>bob</B></FONT>
  <P></P>
  <LI><FONT face="Arial Cyr">Если <B><FONT color=#800000>S</FONT></B>
  переменная, а <B><FONT color=#800000>Т</FONT></B> -произвольный объект, то ни
  сопоставимы и <B><FONT color=#800000>S</FONT></B> приписывается значение
  <B><FONT color=#800000>T</FONT></B>. Наоборот, если<B> <FONT
  color=#800000>Т</FONT></B> -переменная, а<B><FONT color=#800000> S</FONT></B>
  -произвольный объект, то<B><FONT color=#800000> T</FONT></B> приписывается
  значение<B><FONT color=#800000> S</FONT></B>.<BR>Говорят,что<B><FONT
  color=#800000> T</FONT></B> конкретизируется значением <B><FONT
  color=#800000>S</FONT></B>.<BR>т.е.: </FONT>
  <TABLE width=600 border=0>
    <TBODY>
    <TR>
      <TD align=middle colSpan=2><!-- IMG SRC="yellow.gif"  ALT="" BORDER=0 SPACE=20 -->
        <P></P>
      <TD align=left><B>data(M, D, 1992).<BR>data(may, 3, Y).<BR></B></TD>
    <TR></TR></TBODY></TABLE><FONT face="Arial Cyr">Сопоставимы, переменные
  конкретизируются:<BR><B>М=may<BR>D=3<BR>Y=1992<BR></B>в обоих термах.</FONT>
  <P></P>
  <LI><FONT face="Arial Cyr">Если<B><FONT color=#800000> S</FONT></B> и<FONT
  color=#800000> <B>Т</B></FONT> - структуры, то они сопоставимы, если<BR>(а)
  <B><FONT color=#800000>S</FONT></B> и <B><FONT color=#800000>Т</FONT></B>
  имеют одинаковый главный функтор<BR>и<BR>(b) все их соответствующие компоненты
  сопоставимы.<BR>Результирующая конкретизация определяется сопоставлением
  компонент.</FONT>
  <P></P></LI></OL>Если сопоставить структуры
<P><FONT face="Arial Cyr"><B>a(b, C, d(e, F, g(h, i, J)))<BR>a(B, c, d(E, f,
g(H, I, j)))</B></FONT>
<P><FONT face="Arial Cyr">то получим</FONT>
<P><FONT
face="Arial Cyr"><B>B=b<BR>C=c<BR>E=e<BR>F=f<BR>H=h<BR>I=i<BR>J=j</B></FONT>
<P><FONT face="Arial Cyr">Рассмотрим более сложный пример: </FONT><PRE><FONT face="Arial Cyr" size=+1><B>
      triangle(point(2, 5), A,         point(B, 8))
      triangle(X,         point(2, 8), point(5, 8))
</B></FONT></PRE>
<P><FONT face="Arial Cyr">После конкретизации</FONT>
<P><FONT face="Arial Cyr"><B>X=point(2, 5)<BR>A=point(2, 8)<BR>B=5</B></FONT>
<P><FONT face="Arial Cyr">Еще один пример:</FONT>
<P><B><FONT face="Arial Cyr">конкретизированная переменная Х=2<BR></FONT></B><PRE><B><FONT face="Arial Cyr">
                               !
   t</FONT></B><FONT face="Arial Cyr" size=3><B>riangle(point(X, 5), point(X, 8), point(5, Z))</B></FONT><FONT face="Arial Cyr" size=2><B></B></FONT><FONT face="Arial Cyr"><B></B></FONT><P>
</P></PRE><B><FONT face="Arial Cyr">неконкретизированная переменная
Y=2<BR></FONT><PRE><FONT face="Arial Cyr">
                               !
   <FONT size=3>triangle(point(2, 5), point(Y, 8), point(5, A))</FONT>
</FONT></PRE></B><FONT face="Arial Cyr">Если <B>Y</B> представляет собой
неконкретизированную переменную, а переменная <B>X</B> конкретизированную,
то<B>X</B> и <B>Y</B> согласуются и принимает значение <B>Х</B>.<BR></FONT>т.е.
<P><FONT face="Arial Cyr"><B>X=2<BR>Y=2 </B></FONT>
<P><FONT face="Arial Cyr">Переменные <B>Z </B>и <B>A</B> обе не
конкретизированы. Они согласуются и становятся <FONT
color=#800080><B>сцепленными</B></FONT>.<BR>Если две переменные сцеплены, то при
конкретизации одной из них, второй переменной автоматически будет присвоено тоже
самое конкретное значение, что и первой. Как это было с <B>X </B>и
<B>Y</B>.</FONT>
<P>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<H2 align=center><FONT face="Arial Cyr"><A name=L2.5></A><FONT color=#000080>2.5
Второе значение операции = в Прологе.</FONT></FONT></H2>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<P><FONT face="Arial Cyr">В прологе операция<B><FONT color=#400080> =</FONT></B>
, кроме сравнения выполняет сопоставление двух термов, с конкретизацией
переменных.</FONT>
<P><FONT face="Arial Cyr">Если термы согласуются, то результат истина. </FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD vAlign=top align=middle colSpan=2><IMG alt=""
      src="lec2.files/COMPUT.gif" border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT
      color=#800010><B>?-</B></FONT><B>a(B,c(x,D))=a(d,c(X,3)).
      <P>Yes<BR>B=d<BR>X=x<BR>D=3<BR></B></P></TD>
  <TR></TR></TBODY></TABLE>
<P><FONT face="Arial Cyr">Аналогично,<B> /= </B>дает истину, если термы не
согласуются. </FONT>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/COMPUT.gif"
      border=0 SPACE="20">
      <P></P>
    <TD align=left><FONT
      color=#800010><B>?-</B></FONT><B>a(x)/=a(d).<BR>Yes<BR></B></TD>
  <TR></TR></TBODY></TABLE>
<P>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<H2 align=center><FONT face="Arial Cyr"><A name=L2.6></A><FONT color=#000080>2.6
Примеры сопоставления структур.</FONT></FONT></H2>
<CENTER><FONT face="Arial Cyr"><IMG height=8 src="lec2.files/saqual.gif"
width="90%"></FONT> </CENTER>
<P><FONT face="Arial Cyr">Рассмотрим структуры, описывающие отрезки</FONT>
<P>
<TABLE width=600 border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2><IMG alt="" src="lec2.files/l26.gif" border=0>
      <P></P></TD>
    <TD align=left><FONT face="Arial Cyr">Два факта ,описывающие свойство
      вертикальность<BR>и горизонтальность. </FONT>
      <P><!-- img src="yellow.gif" align=left --><B>vertical(seg(point(X,Y),point(X,Y1))).<BR>horiz(seg(point(X,Y),point(X1,Y))).<BR></B><BR>
      <TABLE width=600 border=0>
        <TBODY>
        <TR>
          <TD vAlign=top align=middle colSpan=2><IMG alt=""
            src="lec2.files/COMPUT.gif" align=top border=0 SPACE="20">
            <P></P>
          <TD align=left><FONT
            color=#800010><B>?-</B></FONT><B>vertical(seg(point(2,2),point(2,5))).<BR>Yes</B>

            <P><FONT color=#800010><B>?-</B></FONT>
            <B>horiz(seg(point(1,4),point(2,4))).<BR>Yes</B>
            <P><FONT
            color=#800010><B>?-</B></FONT><B>horiz(seg(point(1,4),point(2,X))).<BR>X=4<BR></B></P></TD></TR></TBODY></TABLE></P></TD>
  <TR></TR></TBODY></TABLE></FONT><TR>
<P>
<HR align=left width="75%" noShade SIZE=1>


      </BODY></HTML>